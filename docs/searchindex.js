Search.setIndex({"docnames": ["index", "introduction", "tutorial", "tutorial/general", "tutorial/notebooks/0_download", "tutorial/notebooks/1_preprocess", "tutorial/notebooks/2_travel_times", "tutorial/notebooks/3_localization", "tutorial_v0/compute_cnr", "tutorial_v0/download_data", "tutorial_v0/format_data", "tutorial_v0/preprocessing", "tutorial_v0/show_results", "tutorial_v0/tt_table", "updates", "usage", "usage/api", "usage/example"], "filenames": ["index.rst", "introduction.rst", "tutorial.rst", "tutorial/general.rst", "tutorial/notebooks/0_download.ipynb", "tutorial/notebooks/1_preprocess.ipynb", "tutorial/notebooks/2_travel_times.ipynb", "tutorial/notebooks/3_localization.ipynb", "tutorial_v0/compute_cnr.rst", "tutorial_v0/download_data.rst", "tutorial_v0/format_data.rst", "tutorial_v0/preprocessing.rst", "tutorial_v0/show_results.rst", "tutorial_v0/tt_table.rst", "updates.rst", "usage.rst", "usage/api.rst", "usage/example.rst"], "titles": ["Welcome to beampower\u2019s documentation!", "Introduction", "Tutorial", "Pre-requisites", "0. Download seismograms", "1. Preprocess seismic waveforms", "2. Compute travel times", "3. Beamforming for location", "4. Compute the network response", "0. Download data", "1. Format data to ASDF", "2. Data preprocessing", "5. Find the detected events", "3. Compute the travel-time table", "Updates", "Usage", "API", "Example"], "terms": {"introduct": 0, "descript": 0, "instal": [0, 3, 6], "requir": [0, 3, 13], "softwar": 0, "hardwar": [0, 16], "usag": [0, 4], "exampl": [0, 2, 6, 8, 15, 16], "api": [0, 15], "tutori": [0, 4, 6, 9, 10], "pre": [0, 2, 7, 8], "requisit": [0, 2, 8], "0": [0, 2, 3, 5, 6, 7, 8, 11, 12, 13], "download": [0, 1, 2, 3, 10], "seismogram": [0, 2, 11, 16], "1": [0, 2, 3, 4, 6, 7, 8, 11, 12, 13], "preprocess": [0, 2, 3, 8, 12], "seismic": [0, 1, 2, 3, 4, 6, 8, 12, 13, 16], "waveform": [0, 2, 3, 4, 8], "2": [0, 1, 2, 4, 5, 7, 8, 12, 13], "comput": [0, 2, 3, 16], "travel": [0, 2, 3, 7, 8, 12], "time": [0, 2, 3, 4, 5, 7, 8, 11, 12, 16], "3": [0, 1, 2, 3, 4, 5, 6, 8, 11, 12], "beamform": [0, 1, 2, 3, 6, 15, 16], "locat": [0, 1, 2, 3, 4, 5, 6, 8, 9, 13], "updat": [0, 4], "index": [0, 6, 7, 8, 12, 13, 16], "modul": [0, 1], "search": 0, "page": [0, 4], "fast": [1, 10], "routin": [1, 16], "backproject": [1, 3, 8], "both": 1, "cpu": [1, 7, 8, 16], "gpu": [1, 8, 16], "architectur": [1, 8], "beampow": [1, 3, 4, 7, 16], "bp": [1, 7], "implement": [1, 8], "network": [1, 2, 3, 4, 5, 6, 9, 12, 13, 16], "respons": [1, 2, 3, 5, 6, 9, 11, 12, 16], "introduc": 1, "frank": 1, "et": [1, 6, 13], "al": [1, 6, 13], "2014": 1, "c": [1, 3, 7, 12, 16], "cuda": [1, 3, 16], "thi": [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 13, 16], "librari": 1, "can": [1, 3, 4, 5, 6, 8, 10, 11, 13, 16], "event": [1, 3, 4, 7], "detect": [1, 2, 3, 4, 5, 8, 11, 16], "also": [1, 5, 10, 11], "imag": [1, 16], "larg": [1, 10, 16], "fault": [1, 4, 9], "ruptur": [1, 16], "If": [1, 4, 13, 16], "you": [1, 3, 4, 8, 10, 11, 13], "bnr": [1, 8], "research": 1, "publish": 1, "pleas": [1, 4, 6, 13], "refer": [1, 2, 6], "follow": [1, 3, 4, 5, 6, 8], "articl": 1, "william": 1, "b": [1, 3], "nikola\u00ef": 1, "m": [1, 5, 6, 7, 11, 12, 13], "shapiro": 1, "allen": 1, "l": [1, 6, 7, 12], "husker": 1, "vladimir": 1, "kostoglodov": 1, "alexei": 1, "romanenko": 1, "michel": 1, "campillo": 1, "systemat": 1, "character": [1, 16], "low": [1, 5], "frequenc": [1, 5, 11], "earthquak": [1, 3, 4, 5, 8, 11, 16], "probe": 1, "guerrero": 1, "mexico": 1, "journal": [1, 3], "geophys": [1, 3], "solid": 1, "earth": [1, 6], "doi": 1, "10": [1, 3, 4, 5, 6, 7, 8, 11, 12], "1002": 1, "2014jb011457": 1, "beauc\u00e9": 1, "eric": [1, 4], "ann": 1, "paul": 1, "robert": 1, "d": [1, 8, 10, 11, 12, 13], "van": 1, "der": 1, "hilst": 1, "2019": [1, 3], "cluster": 1, "beneath": 1, "southwestern": 1, "alp": 1, "1029": 1, "2019jb018110": 1, "i": [1, 3, 4, 5, 6, 7, 8, 10, 11, 12, 13, 16], "avail": [1, 4, 5, 7, 16], "http": [1, 3, 4, 10, 13], "github": [1, 3, 4, 10, 13], "com": [1, 3, 4, 13], "ebeauc": [1, 3], "git": 1, "clone": 1, "mai": [1, 3, 4, 7], "need": [1, 3, 4, 5, 6, 9, 10, 11, 13], "edit": 1, "makefil": 1, "accord": [1, 7], "your": [1, 4], "o": [1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "instruct": [1, 3], "": [1, 3, 4, 5, 6, 7, 8, 11, 12, 13, 16], "comment": 1, "A": [1, 4], "simpl": [1, 3, 5], "make": [1, 3, 4, 7, 13], "whichev": 1, "doe": 1, "trick": 1, "possibl": [1, 3, 5], "command": [1, 3], "ar": [1, 3, 5, 6, 7, 8, 9, 11, 12], "python_cpu": 1, "python_gpu": 1, "python": [1, 3, 9, 10, 13], "via": 1, "which": [1, 4, 5, 6, 11], "support": [1, 10], "clean": [1, 11], "uninstal": 1, "setup": 1, "py": [1, 4, 8, 9, 10, 11, 12, 13], "build_ext": 1, "simpli": 1, "compil": [1, 3], "openmp": 1, "default": [1, 4, 8, 13, 16], "mac": 1, "clang": 1, "gcc": [1, 3], "easili": 1, "homebrew": 1, "version": [1, 3, 11], "x": [1, 7, 11], "discret": 1, "nvidia": [1, 3], "graphic": 1, "card": 1, "toolkit": [1, 3], "known": 1, "run": [1, 2, 4, 5, 8, 9, 10, 11, 13], "well": [1, 16], "6": [1, 4, 6, 7], "environ": 2, "go": [2, 8], "further": [2, 6, 8], "dataset": [2, 7], "inform": [2, 11], "notebook": [2, 3, 5, 6, 7, 12], "read": [2, 4, 7, 10], "veloc": [2, 5, 7, 13], "model": [2, 3, 7, 13], "interpol": [2, 12, 13], "depth": [2, 4, 7, 13], "expand": 2, "later": [2, 4], "station": [2, 3, 4, 5, 7, 8, 9, 12, 13, 16], "coordin": [2, 7, 13], "show": 2, "save": [2, 4, 5, 8, 11], "given": [2, 4, 5, 13, 16], "featur": [2, 11], "an": [2, 8, 11, 16], "envelop": [2, 8, 12], "initi": [2, 4, 6, 10, 13], "aggreg": [2, 3], "beam": [2, 8, 12, 16], "output": [2, 3, 8, 11, 13, 16], "The": [3, 4, 5, 6, 7, 8, 11, 13], "goal": 3, "design": 3, "workflow": [3, 5, 7], "from": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 16], "scratch": 3, "we": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "first": [3, 5, 6, 7, 9, 13], "data": [3, 5, 6, 7, 8, 12, 13], "them": [3, 5, 7, 11], "identifi": 3, "base": [3, 7, 16], "number": [3, 4, 13], "tunabl": 3, "paramet": [3, 8, 11, 12, 13, 16], "final": [3, 4], "visual": [3, 5, 12], "larger": 3, "packag": [3, 4, 6, 10, 11, 13], "than": [3, 6, 7], "itself": [3, 5], "creat": [3, 4, 5, 9, 13], "virtual": 3, "describ": [3, 6], "here": [3, 4, 5, 7, 8, 11], "essenti": [3, 5], "successfulli": [3, 4], "us": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "manag": 3, "anaconda": 3, "rather": 3, "its": [3, 7, 13], "ligther": 3, "miniconda": 3, "doc": 3, "conda": 3, "io": [3, 4, 10], "en": 3, "latest": 3, "html": 3, "onc": [3, 8, 16], "sure": [3, 4, 7, 13], "forg": 3, "when": [3, 4, 6, 7, 12], "necessari": [3, 6, 11, 13], "config": 3, "add": [3, 6, 10], "channel": [3, 4, 7, 8, 9, 12, 16], "name": [3, 6, 7, 9, 10, 11], "beampower_tuto": 3, "n": [3, 7, 8, 12], "now": [3, 10, 11], "activ": 3, "In": [3, 4, 5, 8, 10], "gener": [3, 5, 13], "local": 3, "nvcc": 3, "almost": [3, 11], "all": [3, 4, 5, 6, 9, 10, 16], "obspi": [3, 4, 5, 6, 7, 9, 11], "numpi": [3, 6, 7, 8, 11, 12, 13, 16], "scipi": [3, 7, 8, 11, 12, 13], "panda": [3, 6, 7, 13], "matplotlib": [3, 4, 5, 6, 7, 12], "h5py": [3, 8, 12, 13], "ipython": [3, 8, 9, 10, 11, 13], "jupyt": [3, 12], "cartopi": [3, 4, 12], "xarrai": [3, 6, 7], "Then": [3, 6], "pykon": [3, 6, 13], "malcolmw": [3, 13], "p": [3, 6, 7, 8, 12, 13, 16], "wave": [3, 6, 7, 8, 12, 13, 16], "unpack": 3, "root": 3, "folder": [3, 4, 8, 9, 10, 11, 13], "pip": 3, "our": [3, 7, 11], "new": [3, 5, 9], "section": [3, 8, 9], "document": [3, 4, 6], "made": 3, "seri": [3, 7], "meant": 3, "offer": 3, "singl": [3, 10], "deep": 3, "learn": 3, "phasenet": [3, 8, 12], "see": [3, 5, 6, 11, 13, 16], "physic": 3, "method": [3, 6, 7], "effici": 3, "detector": 3, "order": [3, 6, 7, 11, 13], "have": [3, 8], "e": [3, 7, 8, 12], "modifi": [3, 8], "wrapper": [3, 8], "function": [3, 4, 6, 12, 13, 16], "within": 3, "script": [3, 8, 9, 10, 11, 13], "should": [3, 5], "tensorflow": 3, "take": [3, 4], "some": [3, 13], "zhu": 3, "weiqiang": 3, "gregori": 3, "beroza": 3, "neural": 3, "arriv": 3, "pick": [3, 12], "intern": [3, 4], "216": 3, "261": 3, "273": 3, "small": [4, 11, 16], "continu": [4, 9, 11, 16], "consist": [4, 7], "one": [4, 6, 7], "dai": [4, 5, 11, 12], "eight": 4, "broadband": 4, "three": [4, 6], "compon": [4, 5, 8, 12, 16], "north": [4, 9], "anatolian": [4, 9], "zone": 4, "present": 4, "process": [4, 6, 7, 11], "record": [4, 8, 9], "2013": [4, 5, 7], "04": [4, 5, 6, 7], "23": [4, 5, 7], "magnitud": 4, "nucleat": 4, "middl": 4, "arrai": [4, 6, 7, 8, 13], "7": [4, 6, 7, 12], "km": [4, 6, 7, 11, 13], "find": [4, 7], "about": [4, 5, 11, 13], "seismolog": 4, "center": [4, 6, 7, 9], "note": [4, 5, 6, 10], "mass_download": 4, "iri": [4, 9], "durat": [4, 12, 16], "vari": 4, "depend": [4, 12, 16], "do": [4, 5, 13], "hesit": 4, "consid": 4, "anoth": [4, 11], "would": 4, "suit": 4, "better": [4, 5], "more": [4, 5, 16], "extens": 4, "mass": 4, "info": [4, 7], "valu": [4, 6, 7, 12, 13], "8": [4, 5, 6, 7, 12], "file": [4, 5, 6, 7, 8, 10, 11, 12, 13], "24": [4, 5, 7], "size": [4, 5, 13], "hh": [4, 9], "17": [4, 7], "mb": 4, "bh": [4, 9], "minut": [4, 5], "fastest": 4, "slowest": 4, "overal": 4, "disk": 4, "236": 4, "5": [4, 5, 6, 7, 8, 13], "map": [4, 11], "import": [4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "pyplot": [4, 5, 6, 7, 12], "plt": [4, 5, 6, 7, 12], "utcdatetim": [4, 5, 7, 9, 11], "read_inventori": [4, 5, 6, 7], "client": [4, 9], "fdsn": [4, 9], "By": 4, "come": 4, "store": [4, 13], "includ": [4, 5], "contribut": [4, 8], "mseed": [4, 5, 7, 9, 10], "gitignor": 4, "ani": [4, 11, 13, 16], "other": [4, 5], "format": [4, 6, 8, 9, 13, 16], "accordingli": [4, 12], "feel": 4, "free": 4, "chang": [4, 13], "conveni": 4, "choic": 4, "4": [4, 6, 7, 12], "dirpath_destin": 4, "raw": [4, 10, 11], "remov": [4, 5, 10, 11], "repositori": 4, "futur": 4, "releas": 4, "next": [4, 5], "cell": [4, 5, 6], "ensur": 4, "still": 4, "makedir": [4, 5], "exist_ok": [4, 5], "true": [4, 5, 6, 7, 8, 11, 12], "defin": [4, 5, 6, 8, 11, 12, 13], "coverag": 4, "rectangulardomain": 4, "minlatitud": 4, "40": [4, 6, 7, 11, 12, 13], "60": [4, 6, 13], "maxlatitud": 4, "76": [4, 6, 7, 13], "minlongitud": 4, "30": [4, 6, 7, 12, 13], "20": [4, 6, 7, 12, 13], "maxlongitud": 4, "44": [4, 6, 7], "starttim": [4, 5, 7, 9, 11, 12], "endtim": [4, 5, 7, 9, 11, 12], "chunklength_in_sec": 4, "86400": 4, "yh": [4, 9, 12], "sauv": [4, 6, 9, 12], "spnc": [4, 6, 9, 12], "dc08": [4, 6, 9, 12], "dc07": [4, 6, 9, 12], "dc06": [4, 6, 9, 12], "dd06": [4, 6, 9, 12], "de07": [4, 6, 9, 12], "de08": [4, 6, 9, 12], "reject_channels_with_gap": 4, "fals": [4, 6, 8, 11, 12], "minimum_length": 4, "minimum_interstation_distance_in_m": 4, "100": [4, 5, 6, 7], "channel_prior": 4, "zne": 4, "up": [4, 7], "sever": 4, "internet": 4, "connect": 4, "machin": [4, 5], "were": [4, 5], "correctli": [4, 7], "request": [4, 5, 11], "fail": 4, "due": [4, 7], "intermitt": 4, "problem": [4, 11], "server": 4, "instanc": 4, "massdownload": 4, "provid": [4, 12, 13], "mseed_storag": 4, "stationxml_storag": 4, "2022": 4, "08": 4, "13": [4, 5, 7], "19": [4, 5, 6, 7], "29": 4, "745": 4, "754": 4, "758": 4, "total": 4, "acquir": 4, "preexist": 4, "760": 4, "39": 4, "reliabl": 4, "35": [4, 6, 12], "064": 4, "second": [4, 6, 7, 10, 12], "071": 4, "found": 4, "079": 4, "Will": 4, "attempt": 4, "082": 4, "statu": 4, "interv": 4, "befor": [4, 5, 12], "exist": [4, 11], "164": [4, 6, 12], "No": [4, 14], "168": 4, "report": 4, "175": 4, "minise": [4, 10], "234": 4, "alreadi": [4, 8, 11], "186": 4, "stationxml": [4, 9], "189": 4, "194": 4, "197": 4, "lt": [4, 5, 6, 7], "download_help": 4, "clientdownloadhelp": 4, "0x7fc8bba202e0": 4, "gt": [4, 5, 7], "previous": [4, 7, 10], "contain": 4, "metadata": [4, 5, 8, 10, 11, 12, 13], "relat": 4, "seed_id": 4, "check": [4, 13], "9": [4, 6, 7], "map_ext": 4, "join": [4, 5, 8, 9, 10, 11, 12, 13], "xml": [4, 5, 6, 7, 9, 10], "ax": [4, 5, 6, 7, 12], "project": [4, 16], "cr": 4, "platecarre": 4, "set_ext": 4, "gridlin": 4, "draw_label": 4, "coastlin": 4, "plot": [4, 5, 6, 7, 11, 12], "longitud": [4, 6, 7, 12, 13], "latitud": [4, 6, 7, 12, 13], "kv": 4, "text": [4, 12], "code": [4, 6, 9], "home": 4, "miniconda3": 4, "env": 4, "py310": 4, "lib": 4, "python3": 4, "site": 4, "__init__": 4, "241": 4, "downloadwarn": 4, "naturalearth": 4, "s3": 4, "amazonaw": 4, "10m_physic": 4, "ne_10m_coastlin": 4, "zip": 4, "warn": [4, 6], "f": [4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "url": 4, "step": [5, 6, 7, 16], "adequ": 5, "address": [5, 7], "specif": [5, 8, 16], "set": [5, 7, 8, 10, 12], "task": 5, "thu": [5, 7, 16], "cannot": 5, "straightforwardli": 5, "must": 5, "remain": 5, "taken": [5, 11, 12], "blindli": 5, "reproduc": 5, "tqdm": [5, 6, 7], "glob": [5, 7, 10], "extract": [5, 6, 12], "input": [5, 7, 11, 13, 16], "dirpath_raw": 5, "dirpath_process": 5, "again": 5, "directori": 5, "copi": [5, 6, 7], "therein": 5, "meta": 5, "cp": [5, 12], "collect": 5, "manipul": [5, 7], "afterward": 5, "filepaths_raw": 5, "sort": 5, "select": [5, 6, 12], "ha": 5, "been": 5, "yet": [5, 14], "amplitud": [5, 7], "count": 5, "sign": 5, "integ": [5, 11], "exhibit": 5, "especi": 5, "long": 5, "period": 5, "ambient": 5, "nois": [5, 7], "stream": [5, 11], "trim": [5, 7, 11], "15": [5, 6, 7, 12], "600": 5, "250": 5, "gcf": 5, "set_facecolor": 5, "w": [5, 8, 13], "figur": [5, 7, 12], "432x288": 5, "load": [5, 6, 8, 11, 12, 13], "everi": [5, 6, 7], "appli": [5, 16], "detrend": [5, 11], "individu": 5, "segment": [5, 11], "fill": [5, 11], "gap": [5, 11], "over": [5, 6, 7, 16], "entir": [5, 7, 16], "synchron": 5, "start": [5, 7, 8, 11], "end": [5, 7, 11, 13], "resampl": [5, 11], "target": [5, 11, 16], "sampl": [5, 6, 8, 11, 12, 16], "rate": [5, 11], "instrument": [5, 11], "gain": 5, "desktop": 5, "12": [5, 6, 11], "target_sampling_r": 5, "25": [5, 6, 7, 11], "max_seg": 5, "freq_min": 5, "freq_max": 5, "taper_perc": 5, "02": [5, 11], "taper_typ": 5, "cosin": [5, 11], "mseed_encod": 5, "float64": [5, 7], "target_starttim": [5, 11], "target_endtim": [5, 11], "filepath_waveform": 5, "desc": [5, 6, 7], "split": [5, 11], "constant": [5, 11], "linear": [5, 11], "taper": [5, 11], "type": [5, 7, 11, 16], "merg": [5, 11], "zero": [5, 7, 8, 11, 13, 16], "impos": 5, "fill_valu": [5, 11], "pad": [5, 11], "attach": [5, 11, 13], "filepath_inventori": 5, "stat": [5, 7, 8, 9, 11, 12], "inventori": [5, 6, 7], "attach_respons": [5, 11], "remove_sensit": [5, 11], "filter": [5, 7, 8, 11, 12], "bandpass": [5, 8, 11, 12], "freqmin": [5, 11], "freqmax": [5, 11], "zerophas": [5, 11], "write": [5, 9, 13], "_": [5, 8], "filenam": [5, 11], "filepath_processed_waveform": 5, "encod": 5, "01": [5, 13], "31": [5, 6, 12], "00": [5, 6, 7], "82": 5, "after": 5, "out": 5, "result": 5, "unit": [5, 7, 11], "impuls": 5, "signal": [5, 7, 11], "visibl": 5, "get": [5, 6, 7, 8, 12, 13], "filepath_raw": 5, "filename_raw": 5, "basenam": 5, "filepath_process": 5, "loop": [5, 6], "case": 5, "filepath": 5, "point": [6, 7, 13], "dimension": [6, 7], "grid": [6, 7, 12, 13, 16], "each": [6, 7, 8, 12, 13, 16], "These": [6, 9], "shift": [6, 7], "trace": [6, 7, 8, 10, 11, 12, 16], "evalu": 6, "util": [6, 8, 11, 12, 13], "procedur": 6, "acknowledg": [6, 13], "white": [6, 13], "2020": [6, 13], "although": 6, "handl": [6, 7, 12, 13], "below": 6, "np": [6, 7, 8, 11, 12, 13], "pd": [6, 7, 13], "xr": [6, 7], "solver": [6, 13], "pointsourcesolv": [6, 13], "transform": [6, 7, 12, 13], "geo2sph": [6, 13], "wrote": 6, "karabulut": [6, 13], "2011": [6, 13], "csv": [6, 13], "meter": 6, "speed": [6, 7], "everyth": 6, "convert": [6, 8, 10, 13], "compat": 6, "filepath_veloc": 6, "velocity_model_karabulut2011": [6, 13], "velocity_lay": 6, "read_csv": [6, 13], "usecol": 6, "skiprow": 6, "index_col": [6, 13], "kilomet": 6, "1e": 6, "tabl": [6, 12], "t": [6, 8, 12], "14": 6, "22": 6, "32": 6, "77": 6, "90": [6, 11], "70": 6, "80": 6, "95": 6, "05": [6, 11, 12], "50": [6, 11], "045": 6, "67": 6, "21": 6, "26": [6, 9, 11], "41": 6, "42": 6, "48": [6, 11], "56": 6, "59": [6, 7], "61": 6, "63": 6, "66": 6, "78": 6, "85": 6, "65": 6, "650": 6, "drawstyl": 6, "post": 6, "ylabel": [6, 7], "xlabel": [6, 7], "titl": [6, 7], "1d": 6, "finer": 6, "so": [6, 8, 11, 13], "between": [6, 11, 12], "linspac": 6, "datafram": 6, "reindex": 6, "velocity_layers_interp": 6, "ffill": 6, "compar": 6, "natur": 6, "layer": 6, "sort_valu": 6, "gca": [6, 7], "figsiz": [6, 7, 12], "marker": [6, 7, 12], "label": [6, 7, 12], "legend": [6, 7, 12], "axvspan": 6, "min": [6, 8, 12, 13], "max": [6, 7, 11, 12, 13, 16], "alpha": 6, "domain": 6, "becaus": 6, "system": 6, "cast": 6, "onto": [6, 8], "dimens": [6, 7], "45": [6, 7, 13], "decreas": [6, 13], "correspond": [6, 7], "colatitud": [6, 13], "increas": [6, 13], "explan": 6, "vector": [6, 13], "oper": [6, 7, 16], "automat": 6, "done": [6, 8, 10, 13, 16], "expand_dim": [6, 7], "stack": [6, 7, 8, 16], "to_xarrai": 6, "renam": 6, "level_1": 6, "phase": [6, 7, 8, 12, 13, 16], "broadcast": 6, "3d": 6, "sta": [6, 9, 12], "net": 6, "attr": 6, "elev": [6, 12, 13], "item": 6, "getattr": 6, "turn": 6, "set_index": 6, "265751": [6, 12], "616718": [6, 12], "555": [6, 12], "242170": [6, 12], "667080": [6, 12], "250130": [6, 12], "744438": [6, 12], "162": [6, 12], "317770": [6, 12], "623539": [6, 12], "182": [6, 12], "411539": [6, 12], "679661": [6, 12], "040": 6, "406469": [6, 12], "748562": [6, 12], "031": 6, "327200": [6, 12], "740200": [6, 12], "170": [6, 12], "308300": [6, 12], "686001": [6, 12], "190": [6, 12], "slice": [6, 7], "dataarrai": [6, 7], "sel": [6, 7], "11": [6, 7], "velocities_slic": 6, "img": 6, "imshow": 6, "cmap": 6, "rdbu": 6, "add_colorbar": 6, "cb": 6, "colorbar": 6, "wv": 6, "set_xlabel": [6, 12], "degre": [6, 7, 13], "set_ylabel": [6, 7, 12], "set_titl": [6, 7], "set_label": 6, "invert_yaxi": [6, 7], "eikon": [6, 13], "h5": [6, 8, 10, 11, 12, 13], "For": [6, 8, 9, 16], "give": [6, 13], "spheric": [6, 13], "r": [6, 7, 12], "theta": [6, 13], "varphi": 6, "why": 6, "built": 6, "distanc": [6, 7, 11, 16], "polar": [6, 13], "angl": [6, 13], "radian": [6, 13], "co": [6, 13], "equival": [6, 13], "azimuth": [6, 13], "station_entri": 6, "velocities_solv": 6, "transpos": [6, 7], "travel_tim": [6, 7], "reference_point": 6, "node_interv": [6, 13], "ab": [6, 7], "deg2rad": 6, "coord_si": [6, 13], "min_coord": [6, 13], "to_numpi": [6, 7], "npt": [6, 11, 13], "shape": [6, 7, 8, 12, 13], "sourc": [6, 7, 8, 11, 13, 16], "src_loc": [6, 13], "loc": [6, 7, 9, 12], "squeez": [6, 8], "solv": [6, 13], "equat": [6, 13], "assign": [6, 7], "dict": 6, "tt": [6, 8, 12, 13], "isinf": 6, "88it": 6, "83it": 6, "netcdf": 6, "differ": [6, 11], "allow": [6, 10], "dataaarrai": 6, "quickli": 6, "without": [6, 11], "lose": [6, 11], "attribut": [6, 7], "wai": 6, "to_netcdf": 6, "nc": [6, 7], "contour_level": 6, "seismic_phas": 6, "latitude_id": 6, "argmin": 6, "time_delai": [6, 7, 16], "isel": [6, 7], "contourf": 6, "rdpu": 6, "level": [6, 9], "k": [6, 7, 12], "demonstr": 7, "how": 7, "eathquak": 7, "kurtosi": 7, "etc": 7, "geodet": 7, "locations2degre": 7, "degrees2kilomet": 7, "load_ext": 7, "autoreload": 7, "underli": 7, "paradigm": 7, "exact": 7, "align": 7, "thei": 7, "sum": 7, "largest": 7, "howev": 7, "emit": 7, "doubl": 7, "coupl": 7, "antisymmetri": 7, "radiat": 7, "wavefield": [7, 8], "furthermor": 7, "imprecis": 7, "finit": 7, "often": 7, "mean": 7, "To": 7, "aforement": 7, "drawback": 7, "posit": 7, "smooth": 7, "enough": 7, "least": 7, "think": 7, "try": [7, 8, 9], "unsuccesfulli": 7, "dirac": 7, "resolut": [7, 13], "analyt": 7, "hilbert": 7, "avoid": 7, "noisi": 7, "domin": [7, 8], "normal": [7, 12], "median": [7, 12], "absolut": 7, "deviat": 7, "clip": [7, 8], "abov": [7, 11], "spike": [7, 8], "proxim": 7, "transient": 7, "corrupt": 7, "def": [7, 11, 12, 13], "calcul": 7, "window": [7, 12], "maximum": [7, 16], "mad": [7, 12], "argument": 7, "like": 7, "return": [7, 11, 12, 13, 16], "same": [7, 13], "x_mad": 7, "median_abs_devi": [7, 8], "els": [7, 8, 11, 12], "x_max": 7, "none": [7, 11, 12, 16], "keep": 7, "explicit": 7, "dirpath_inventori": 7, "dirpath_waveform": 7, "header": 7, "filepaths_waveform": 7, "headonli": 7, "waveform_featur": [7, 16], "dim": 7, "coord": [7, 12], "list": 7, "to_datetim": 7, "timestamp": [7, 11], "39it": 7, "55": 7, "fig": [7, 12], "subplot": 7, "ymax": 7, "get_ylim": [7, 12], "set_ylim": [7, 12], "ground": [7, 9], "color": [7, 12], "c0": 7, "scale": [7, 8, 16], "twinx": 7, "c1": 7, "bottom": 7, "obtain": 7, "ravel_shap": 7, "sampling_r": [7, 8, 11, 12], "delai": 7, "load_dataarrai": 7, "round": [7, 11], "weight": [7, 8, 16], "weights_phas": [7, 8, 16], "ones_lik": 7, "drop": 7, "assign_coord": 7, "z": [7, 8, 12], "weights_sourc": [7, 8, 16], "ones": [7, 8, 12], "At": [7, 13], "beam_max": 7, "beam_argmax": [7, 16], "devic": [7, 8, 16], "reduc": [7, 16], "assembl": 7, "simplifi": 7, "to_dataset": 7, "beam_max_coord": 7, "2160000": 7, "datetime64": [7, 12], "23t23": 7, "960000": 7, "variabl": [7, 8, 10, 11, 12, 13], "float32": [7, 8, 12, 13], "756e": 7, "793e": 7, "845e": 7, "69": 7, "0xarrai": 7, "datasetdimens": 7, "2160000coordin": 7, "x27": 7, "23t00": 7, "000000000": 7, "040000000": 7, "080000000": 7, "880000000": 7, "920000000": 7, "960000000": 7, "dtype": [7, 8, 12, 13], "float322": 7, "0arrai": 7, "7558514e": 7, "7925931e": 7, "8453179e": 7, "0000000e": 7, "float6440": 7, "76arrai": 7, "75529412": 7, "69882353": 7, "69411765": 7, "float6430": 7, "2arrai": 7, "44358974": 7, "maxima": 7, "peak": [7, 12], "threshold": [7, 12], "criterion": 7, "onli": [7, 10], "promin": 7, "min_detection_interv": 7, "int": [7, 11, 12, 16], "find_peak": 7, "window_length": 7, "1800": 7, "roll": 7, "semilogi": 7, "ylim": 7, "power": [7, 11], "len": [7, 8, 11, 12, 13], "zoom": 7, "detector_zoom": 7, "events_zoom": 7, "watch": 7, "event_watch": 7, "argmax": 7, "oc3": 7, "mfc": 7, "date": [7, 12], "str": 7, "enumer": [7, 12, 13], "lowpass": [7, 11], "freq": [7, 11], "get_coordin": 7, "id": [7, 9, 11], "p1": 7, "p2": 7, "epicentr": 7, "axvlin": [7, 12], "c3": [7, 12], "kei": [7, 12, 13], "0x7f46345ea8f0": 7, "readi": [8, 11], "beamnetrespons": 8, "4_compute_cnr": [8, 12], "composit": [8, 12], "main": 8, "interest": 8, "whether": 8, "want": 8, "test": 8, "those": 8, "who": 8, "line": 8, "use_phasenet": [8, 12], "sy": [8, 11, 12, 13], "path_script": [8, 9, 10, 11], "path": [8, 9, 10, 11, 12, 13], "dirnam": [8, 9, 10, 11], "__file__": [8, 9, 10, 11, 13], "append": [8, 11, 12, 13], "read_asdf": [8, 12, 13], "scimad": 8, "except": 8, "importerror": 8, "median_absolute_devi": 8, "give_tim": [8, 11, 13], "path_data": [8, 9, 10, 11, 12, 13], "pardir": [8, 9, 10, 11, 12, 13], "tt_filenam": [8, 12, 13], "data_filenam": [8, 11, 12, 13], "data_20120726": [8, 11, 12, 13], "output_filenam": [8, 10, 11], "cnr_naf_env": [8, 12], "pn": 8, "load_travel_tim": 8, "get_asdf_metadata": [8, 12, 13], "12hz": [8, 12], "downsampl": [8, 11, 12], "25hz": [8, 12], "read_asdf_data": [8, 12], "tag": [8, 10, 11, 12], "preprocessed_2_12": [8, 11, 12], "nd": 8, "data_arr": 8, "get_np_arrai": 8, "station_cod": [8, 12, 13], "rel": [8, 12], "moveout": [8, 12, 16], "sr": [8, 11, 12], "get_moveout_arrai": [8, 12], "express": [8, 12], "term": [8, 12], "axi": [8, 12], "keepdim": [8, 12], "sec_to_samp": [8, 11, 12], "pn_proba": 8, "automatic_pick": 8, "newaxi": 8, "mini_batch_s": 8, "256": 8, "detection_trac": 8, "swapax": 8, "norm": 8, "envelope_parallel": 8, "don": 8, "matric": 8, "horizont": [8, 12, 13, 16], "vertic": [8, 12], "limit": 8, "remot": 8, "print": [8, 9, 10, 11, 12, 13], "wa": 8, "theoret": [8, 13, 16], "t1": [8, 11, 13], "cnr": [8, 12], "source_index": [8, 12], "beamformed_nr": 8, "composite_network_respons": [8, 12], "t2": [8, 11, 13], "2f": [8, 13], "mode": [8, 12, 13], "create_dataset": [8, 13], "motion": 9, "0_download_data": 9, "block": 9, "consol": 9, "fetch": [9, 10], "seismomet": [9, 13], "dana": 9, "koeri": 9, "along": 9, "western": 9, "udt": [9, 11], "isdir": 9, "mkdir": 9, "2012": [9, 11], "07": [9, 11], "27": 9, "station_list": 9, "st": [9, 11], "get_waveform": 9, "tr": [9, 11, 12], "inv": [9, 11], "get_stat": 9, "he": 10, "pyasdf": [10, 11], "seismicdata": 10, "therefor": [10, 13, 16], "1_make_asdf_fil": 10, "combin": 10, "reli": 10, "hdf5": [10, 13], "compress": [10, 13], "subset": 10, "even": 10, "asdfdataset": [10, 11], "data_20120726_raw": [10, 11], "data_fil": 10, "metadata_fil": 10, "isfil": [10, 11], "data_fn": 10, "ad": 10, "add_waveform": 10, "metadata_fn": 10, "add_stationxml": 10, "access": 10, "2_preprocess": 11, "hz": 11, "appropri": [11, 16], "bandwidth": 11, "studi": [11, 16], "typic": 11, "receiv": [11, 16], "down": 11, "nyquist": 11, "just": [11, 13], "upper": [11, 12], "Of": 11, "cours": 11, "tune": 11, "plai": 11, "effortless": 11, "parallel": 11, "lowpass_chebyshev_ii": 11, "min_attenuation_db": 11, "cheby2": 11, "sosfilt": 11, "analog": 11, "btype": 11, "target_sr": 11, "remove_respons": 11, "plot_resp": 11, "target_dur": 11, "verbos": 11, "vel": 11, "kwarg": 11, "preprocessed_st": 11, "empti": 11, "too": 11, "mani": 11, "isnan": 11, "nan": 11, "mask": 11, "safe": 11, "came": 11, "separ": 11, "element": 11, "delet": 11, "origin": 11, "memori": [11, 16], "del": 11, "sr_ratio": 11, "decim": 11, "multipl": 11, "no_filt": 11, "elif": 11, "high": 11, "pass": 11, "adjust": [11, 13], "length": [11, 12], "rang": [11, 13], "n_sampl": [11, 16], "assum": 11, "t_max": 11, "delta": 11, "t_min": 11, "f_min": 11, "f_max": 11, "pre_filt": 11, "97": 11, "highpass": 11, "preprocess_asdf": 11, "tag_nam": 11, "functool": 11, "partial": 11, "_preprocess": 11, "what": 11, "tag_map": 11, "full": [11, 16], "splitext": 11, "mpi": 11, "__name__": [11, 13], "__main__": [11, 13], "datetim": 11, "timedelta": 11, "h": [11, 12], "overwrit": 11, "5_show_result": 12, "ipynb": 12, "script_fold": [12, 13], "abspath": 12, "root_fold": [12, 13], "asdf": [12, 13], "linearndinterpol": [12, 13], "interpn": 12, "mdate": 12, "cm": 12, "scalarmapp": 12, "ctp": 12, "mpl_toolkit": 12, "axes_grid1": 12, "make_axes_locat": 12, "inset_loc": 12, "inset_ax": 12, "geometri": 12, "seaborn": 12, "sn": 12, "font_scal": 12, "set_styl": 12, "tick": 12, "rcparam": 12, "savefig": 12, "dpi": 12, "200": 12, "svg": 12, "fonttyp": 12, "path_tt": [12, 13], "ran": 12, "cnr_filenam": 12, "cnr_naf_pn": 12, "network_metadata": [12, 13], "network_cod": 12, "realli": 12, "arang": [12, 13], "timedelta64": 12, "1000": [12, 13], "source_coord": 12, "sta_cod": 12, "tt_": [12, 13], "flatten": 12, "source_coordin": [12, 13], "ll": 12, "cnr_source_index": 12, "fix": 12, "probabl": 12, "detection_threshold": 12, "sliding_window": 12, "3600": 12, "overlap": 12, "75": 12, "cnr_threshold": 12, "time_dependent_threshold": 12, "minimum_tim": 12, "minimum": 12, "two": 12, "consecut": 12, "begin": [12, 16], "per": 12, "offset_start": 12, "find_detect": 12, "96": 12, "plot_cnr": 12, "det_idx": 12, "add_subplot": 12, "111": 12, "get_figur": 12, "1f": 12, "xmad": 12, "right": 12, "set_xlim": 12, "xaxi": 12, "set_major_formatt": 12, "dateformatt": 12, "annot": 12, "arrowprop": 12, "width": 12, "headwidth": 12, "inlin": 12, "plot_detect": 12, "detection_": 12, "add_gridspec": 12, "nrow": 12, "ncol": 12, "hspace": 12, "start_tim": 12, "end_tim": 12, "wav_ax": 12, "ax_cnr": 12, "transax": 12, "concisedateformatt": 12, "get_major_loc": 12, "rai": 13, "tracer": 13, "3_build_tt_tabl": 13, "geograph": 13, "extent": 13, "current": 13, "direct": 13, "encompass": 13, "pathlib": 13, "parent": 13, "resolv": 13, "interp1d": 13, "load_velocity_model": 13, "grid_velocity_model": 13, "longitude_min": 13, "longitude_max": 13, "latitude_min": 13, "latitude_max": 13, "depth_min": 13, "depth_max": 13, "path_vel_model": 13, "d_longitud": 13, "d_latitud": 13, "d_depth": 13, "control": 13, "approxim": 13, "1km": 13, "build": 13, "z_top": 13, "vp": 13, "v": 13, "new_depth": 13, "00001": 13, "new_vp": 13, "interpolator_p": 13, "hstack": 13, "new_v": 13, "interpolator_": 13, "space": 13, "deg_to_rad": 13, "pi": 13, "180": 13, "lat_max": 13, "lat_min": 13, "last": 13, "being": 13, "match": 13, "n_longitud": 13, "n_latitud": 13, "n_depth": 13, "vp_grid": 13, "vs_grid": 13, "radiu": 13, "depths_g": 13, "latitudes_g": 13, "longitudes_g": 13, "meshgrid": 13, "ij": 13, "dictionari": 13, "compute_tt": 13, "uniqu": 13, "dtr": 13, "n_station": [13, 16], "rho_min": 13, "theta_min": 13, "lbd_min": 13, "tt_p": 13, "row_idx": 13, "network_sta": 13, "iterrow": 13, "0f": 13, "rad": 13, "adjusted_veloc": 13, "field": 13, "insid": 13, "whole": [13, 16], "source_latitud": 13, "source_longitud": 13, "source_depth": 13, "rho_sourc": 13, "theta_sourc": 13, "lbd_sourc": 13, "sec": 13, "3f": 13, "src_coord": 13, "sph2geo": 13, "node": 13, "vel_model_filenam": 13, "cite": 13, "lon_min": 13, "lon_max": 13, "dep_min": 13, "dep_max": 13, "lon": 13, "lat": 13, "d_lat": 13, "d_lon": 13, "d_dep": 13, "key1": 13, "create_group": 13, "key2": 13, "gzip": 13, "prestack_trac": [15, 16], "might": 16, "consider": 16, "consum": 16, "n_channel": 16, "ndarrai": 16, "float": 16, "n_sourc": 16, "n_phase": 16, "back": 16, "string": 16, "either": 16, "user": 16, "prefer": 16, "reduct": 16, "option": 16, "prestack": 16, "ahead": 16, "wise": 16, "prestacked_trac": 16, "optim": 16, "work": 17, "progress": 17}, "objects": {"beampower": [[16, 0, 0, "-", "beampower"]], "beampower.beampower": [[16, 1, 1, "", "beamform"], [16, 1, 1, "", "prestack_traces"]]}, "objtypes": {"0": "py:module", "1": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"]}, "titleterms": {"welcom": 0, "beampow": 0, "": 0, "document": 0, "content": [0, 2, 4, 5, 6, 7, 15], "indic": 0, "tabl": [0, 13], "introduct": 1, "descript": 1, "instal": 1, "from": 1, "sourc": 1, "us": 1, "pip": 1, "recommend": 1, "requir": 1, "softwar": 1, "hardwar": 1, "tutori": [2, 3], "pre": 3, "requisit": 3, "environ": 3, "run": 3, "go": 3, "further": 3, "refer": 3, "0": [4, 9], "download": [4, 9], "seismogram": 4, "dataset": 4, "inform": 4, "thi": 4, "notebook": 4, "destin": [4, 5], "path": [4, 5], "prepar": 4, "data": [4, 9, 10, 11], "geograph": 4, "domain": 4, "tempor": 4, "qualiti": 4, "restrict": 4, "show": [4, 5, 6, 7], "inventori": 4, "1": [5, 10], "preprocess": [5, 11], "seismic": 5, "waveform": [5, 7], "read": [5, 6], "an": [5, 7], "exampl": [5, 7, 17], "raw": 5, "trace": 5, "compar": 5, "process": 5, "2": [6, 11], "comput": [6, 7, 8, 13], "travel": [6, 13], "time": [6, 13], "veloc": 6, "model": 6, "interpol": 6, "depth": 6, "expand": 6, "later": 6, "station": 6, "coordin": 6, "save": 6, "given": 6, "3": [7, 13], "beamform": 7, "locat": 7, "featur": 7, "envelop": 7, "initi": 7, "network": [7, 8], "respons": [7, 8], "aggreg": 7, "beam": 7, "output": 7, "detect": [7, 12], "4": 8, "format": 10, "asdf": 10, "5": 12, "find": 12, "event": 12, "updat": 14, "usag": 15, "api": 16}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "nbsphinx": 4, "sphinx": 57}, "alltitles": {"Welcome to beampower\u2019s documentation!": [[0, "welcome-to-beampower-s-documentation"]], "Contents:": [[0, null], [2, null], [15, null]], "Indices and tables": [[0, "indices-and-tables"]], "Introduction": [[1, "introduction"]], "Description": [[1, "description"]], "Installation": [[1, "installation"]], "From source": [[1, "from-source"]], "Using pip (recommended)": [[1, "using-pip-recommended"]], "Required software/hardware:": [[1, "required-software-hardware"]], "Tutorial": [[2, "tutorial"]], "Pre-requisites": [[3, "pre-requisites"]], "Environment": [[3, "environment"]], "Running the Tutorial": [[3, "running-the-tutorial"]], "Going Further": [[3, "going-further"]], "Reference": [[3, "reference"]], "0. Download seismograms": [[4, "0.-Download-seismograms"]], "Dataset information": [[4, "Dataset-information"]], "Contents of this notebook": [[4, "Contents-of-this-notebook"]], "Download destination path": [[4, "Download-destination-path"]], "Prepare the data downloader": [[4, "Prepare-the-data-downloader"]], "Geographical domain": [[4, "Geographical-domain"]], "Temporal domain and quality restrictions": [[4, "Temporal-domain-and-quality-restrictions"]], "Download the data": [[4, "Download-the-data"]], "Show inventory": [[4, "Show-inventory"]], "1. Preprocess seismic waveforms": [[5, "1.-Preprocess-seismic-waveforms"]], "Contents": [[5, "Contents"], [6, "Contents"], [7, "Contents"]], "Read and destination paths": [[5, "Read-and-destination-paths"]], "Show an example raw trace": [[5, "Show-an-example-raw-trace"]], "Preprocess": [[5, "Preprocess"]], "Compare raw and processed traces": [[5, "Compare-raw-and-processed-traces"]], "2. Compute travel times": [[6, "2.-Compute-travel-times"]], "Read velocity model": [[6, "Read-velocity-model"]], "Interpolate velocity model at depth": [[6, "Interpolate-velocity-model-at-depth"]], "Expand model laterally": [[6, "Expand-model-laterally"]], "Station coordinates": [[6, "Station-coordinates"]], "Show model and stations": [[6, "Show-model-and-stations"]], "Compute travel times": [[6, "Compute-travel-times"]], "Save travel times": [[6, "Save-travel-times"]], "Show travel times at a given station": [[6, "Show-travel-times-at-a-given-station"]], "3. Beamforming for location": [[7, "3.-Beamforming-for-location"]], "Compute waveform features": [[7, "Compute-waveform-features"]], "Show an example envelope": [[7, "Show-an-example-envelope"]], "Initialize beamforming": [[7, "Initialize-beamforming"]], "Compute the beamformed network response": [[7, "Compute-the-beamformed-network-response"]], "Aggregate beam outputs": [[7, "Aggregate-beam-outputs"]], "Detect": [[7, "Detect"]], "Show detection": [[7, "Show-detection"]], "4. Compute the network response": [[8, "compute-the-network-response"]], "0. Download data": [[9, "download-data"]], "1. Format data to ASDF": [[10, "format-data-to-asdf"]], "2. Data preprocessing": [[11, "data-preprocessing"]], "5. Find the detected events": [[12, "find-the-detected-events"]], "3. Compute the travel-time table": [[13, "compute-the-travel-time-table"]], "Updates": [[14, "updates"]], "Usage": [[15, "usage"]], "API": [[16, "module-beampower.beampower"]], "Example": [[17, "example"]]}, "indexentries": {"beamform() (in module beampower.beampower)": [[16, "beampower.beampower.beamform"]], "beampower.beampower": [[16, "module-beampower.beampower"]], "module": [[16, "module-beampower.beampower"]], "prestack_traces() (in module beampower.beampower)": [[16, "beampower.beampower.prestack_traces"]]}})